<!DOCTYPE html><html><head><meta name="viewport" content="maximum-scale=1,minimum-scale=1,user-scalable=0,width=device-width,initial-scale=1"><meta content="telephone=no" name="format-detection"><title>播放音乐</title><link href="/css/app.css?i=1531590994144" rel="stylesheet"></head><body><div class="page-group"><div class="page page-current"><div style="padding:20px"><a class="weui-btn weui-btn_primary" id="audio-play">播放音乐</a> <a class="weui-btn weui-btn_warn" id="audio-stop">停止音乐</a></div><div id="log"></div></div></div><script src="/script/app.js?i=1531590994144"></script><script>function playAudio(i){$("#log").append("<div>播放："+i+"</div>");var n=!1,o=$(' <audio  preload="auto" src="'+i+'"></audio>')[0];o.onload=function(){$("#log").append("<div>已加载</div>")},o.onloadeddata=function(){$("#log").append("<div>介数据已加载</div>")},o.onloadstart=function(){$("#log").append("<div>开始加载</div>")},o.oncanplay=function(){$("#log").append("<div>可以播放</div>"),o.play()},o.onemptied=function(){$("#log").append("<div>连接意外断开</div>")},o.onerror=function(){$("#log").append("<div>播放错误</div>")},o.onplay=function(){$("#log").append("<div>开始播放</div>")},o.onplaying=function(){n=!0,$("#log").append("<div>正在播放</div>")},o.onwaiting=function(){$("#log").append("<div>等待</div>")},o.onended=function(){$("#log").append("<div>播放结束</div>")},$(document.body).append(o),window.WeixinJSBridge&&window.WeixinJSBridge.invoke("getNetworkType",{},function(){o.play()}),function i(){n||(window.WeixinJSBridge&&window.WeixinJSBridge.invoke("getNetworkType",{},function(){o.play()}),window.setTimeout(i,100))}()}$("#audio-play").tap(function(){api.device.playAudio("../../res/music.mp3")}),$("#audio-stop").tap(function(){api.device.stopPlay()})</script></body></html>